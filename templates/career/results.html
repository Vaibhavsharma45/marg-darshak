<script>
// Get results from sessionStorage
const results = JSON.parse(sessionStorage.getItem('quizResults'));

if (results && results.careers) {
    const container = document.getElementById('careerResults');
    
    results.careers.forEach((career, index) => {
        const badge = index === 0 ? '<span class="badge bg-success mb-2">Best Match</span>' : '';
        
        const careerCard = `
            <div class="col-md-4 mb-4">
                <div class="card h-100 shadow-sm hover-card">
                    <div class="card-body">
                        ${badge}
                        <h4 class="card-title mt-2">${career.title}</h4>
                        <p class="text-muted small">${career.category}</p>
                        <p class="card-text">${career.description.substring(0, 100)}...</p>
                        
                        <div class="mb-3">
                            <strong>ðŸ’° Avg Salary:</strong> â‚¹${(career.avg_salary_inr / 100000).toFixed(1)} LPA
                        </div>
                        
                        <div class="mb-3">
                            <strong>ðŸ“ˆ Growth:</strong> 
                            <span class="badge bg-info">${career.growth_rate}</span>
                        </div>
                        
                        <div class="mb-3">
                            <strong>ðŸŽ“ Education:</strong><br>
                            <small>${career.education_required}</small>
                        </div>
                        
                        <a href="/career/detail/${career.id}" class="btn btn-primary w-100 mt-3">
                            View Full Details <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>
        `;
        
        container.innerHTML += careerCard;
    });
} else {
    // No results, redirect to quiz
    window.location.href = '/career';
}
</script>