{% extends 'base.html' %}

{% block title %}Browse Resources - Skill Saathi{% endblock %}

{% block content %}
<div class="container my-5">
    <h1 class="text-center mb-5">ðŸ“š Curated Learning Resources</h1>
    
    <!-- Filters -->
    <div class="row mb-4">
        <div class="col-md-12">
            <form action="/skill/browse" method="get" class="row g-3">
                <div class="col-md-4">
                    <select name="topic" class="form-select">
                        <option value="all">All Topics</option>
                        {% for topic in topics %}
                        <option value="{{ topic }}" {% if selected_topic == topic %}selected{% endif %}>
                            {{ topic }}
                        </option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col-md-3">
                    <select name="difficulty" class="form-select">
                        <option value="all">All Levels</option>
                        <option value="Beginner" {% if selected_difficulty == 'Beginner' %}selected{% endif %}>Beginner</option>
                        <option value="Intermediate" {% if selected_difficulty == 'Intermediate' %}selected{% endif %}>Intermediate</option>
                        <option value="Advanced" {% if selected_difficulty == 'Advanced' %}selected{% endif %}>Advanced</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <div class="form-check mt-2">
                        <input class="form-check-input" type="checkbox" name="free" value="true" id="freeOnly" {% if free_only %}checked{% endif %}>
                        <label class="form-check-label" for="freeOnly">
                            Free Only
                        </label>
                    </div>
                </div>
                <div class="col-md-2">
                    <button type="submit" class="btn btn-primary w-100">Filter</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Resources Grid -->
    <div class="row">
        {% if resources %}
            {% for resource in resources %}
            <div class="col-md-4 mb-4">
                <div class="card h-100 hover-card">
                    <div class="card-body">
                        <span class="badge bg-primary mb-2">{{ resource.platform }}</span>
                        {% if resource.is_free %}
                        <span class="badge bg-success mb-2">FREE</span>
                        {% endif %}
                        
                        <h5 class="card-title">{{ resource.title }}</h5>
                        <p class="text-muted small">{{ resource.topic }}</p>
                        
                        <div class="mb-2">
                            <i class="fas fa-star text-warning"></i> {{ resource.quality_score }}/5
                        </div>
                        
                        <div class="mb-2">
                            <i class="fas fa-clock"></i> {{ resource.duration_hours }}h
                            <span class="badge bg-secondary ms-2">{{ resource.difficulty }}</span>
                        </div>
                        
                        <a href="{{ resource.url }}" target="_blank" class="btn btn-primary w-100 mt-3">
                            Open Resource <i class="fas fa-external-link-alt"></i>
                        </a>
                    </div>
                </div>
            </div>
            {% endfor %}
        {% else %}
            <div class="col-12 text-center">
                <p class="lead">No resources found. Try different filters.</p>
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}